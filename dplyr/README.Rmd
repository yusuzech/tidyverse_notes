---
title: "README"
author: "Yifu Yan"
date: "3/11/2019"
output: 
    md_document:
    variant: markdown_github
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(dplyr)
```


## 1.Create(`muate()`) sum and percentage of sum for columns

Use scoped variants of `summarise()`, `mutate(`) and `transmute()` when handling many columns. 

1. `.predicate`:
    1. `_at()` variants accepts `vars()` for selecting columns.
    1. `_if()` variants accepts logical conditions for selecting columns.
1. `.funs`:
    1. Use `funs()`, which support renaming new columns
    2. Use function name(e.g. sum,mean)
    3. Use purrr syntax(`~.x`)



Instead of doing:

```{r}
mtcars %>%
    group_by(cyl) %>%
    transmute(mpg_sum = sum(mpg),
           disp_sum = sum(disp),
           mpg_pct = mpg/sum(mpg),
           disp_pct = disp/sum(disp)) %>%
    head() %>%
    knitr::kable()
```


Do:

```{r}
mtcars %>%
    group_by(cyl) %>%
    transmute_at(vars(mpg,disp),
              funs(sum = sum(.),
                   pct = ./sum(.))) %>%
    head() %>%
    knitr::kable()
```

